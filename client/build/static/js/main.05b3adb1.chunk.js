(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{328:function(e,t,a){e.exports=a(522)},332:function(e,t,a){},522:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),c=a.n(l),i=(a(332),a(82)),o=a(292),s=a(293),u=a(290),m=a(29),d=a(33),f=a(38),p="",g=function(){return p},E=function(e){p=e},h=a(294),v=a(267),y=a.n(v),b=a(17),x=a.n(b),O=a(34),w=a(13),j=a(4),N=a(81),S=a(101),C=a(270),k=a(35),B=a(36),T=a.n(B),A=a(18);function F(){var e=Object(k.a)(["\n    query Users {\n  users {\n    id\n    email\n    firstName\n    lastName\n  }\n}\n    "]);return F=function(){return e},e}function D(){var e=Object(k.a)(["\n    query Transactions($currency: String!) {\n  transactions(currency: $currency) {\n    id\n    transactionType\n    date\n    amount\n  }\n}\n    "]);return D=function(){return e},e}function R(){var e=Object(k.a)(["\n    mutation Register($email: String!, $password: String!, $firstName: String!, $lastName: String!, $dateOfBirth: String!, $streetAddress: String!, $postCode: String!, $city: String!, $country: String!) {\n  register(email: $email, password: $password, firsName: $firstName, lastName: $lastName, dateOfBirth: $dateOfBirth, streetAddress: $streetAddress, postCode: $postCode, city: $city, country: $country)\n}\n    "]);return R=function(){return e},e}function I(){var e=Object(k.a)(["\n    query Me {\n  me {\n    id\n    email\n    firstName\n    lastName\n  }\n}\n    "]);return I=function(){return e},e}function L(){var e=Object(k.a)(["\n    mutation Logout {\n  logout\n}\n    "]);return L=function(){return e},e}function z(){var e=Object(k.a)(["\n    mutation Login($email: String!, $password: String!) {\n  login(email: $email, password: $password) {\n    accessToken\n    user {\n      id\n      email\n      firstName\n      lastName\n    }\n  }\n}\n    "]);return z=function(){return e},e}function P(){var e=Object(k.a)(["\n    query Hello {\n  hello\n}\n    "]);return P=function(){return e},e}function $(){var e=Object(k.a)(["\n    mutation Exchange($selectedAccountCurrency: String!, $toAccountCurrency: String!, $amount: Float!) {\n  exchange(selectedAccountCurrency: $selectedAccountCurrency, toAccountCurrency: $toAccountCurrency, amount: $amount) {\n    account {\n      id\n      balance\n    }\n    success\n  }\n}\n    "]);return $=function(){return e},e}function M(){var e=Object(k.a)(["\n    mutation CreateTransaction($currency: String!) {\n  createTransaction(currency: $currency)\n}\n    "]);return M=function(){return e},e}function q(){var e=Object(k.a)(["\n    mutation createCard {\n  createCard\n}\n    "]);return q=function(){return e},e}function H(){var e=Object(k.a)(["\n    mutation CreateAccount($currency: String!) {\n  createAccount(currency: $currency)\n}\n    "]);return H=function(){return e},e}function U(){var e=Object(k.a)(["\n    query Cards {\n  cards {\n    id\n    cardNumber\n    pin\n    expiresIn\n    cvv\n    monthlySpendingLimit\n  }\n}\n    "]);return U=function(){return e},e}function W(){var e=Object(k.a)(["\n    query Bye {\n  bye\n}\n    "]);return W=function(){return e},e}function V(){var e=Object(k.a)(["\n    mutation AddMoney($amount: Float!, $currency: String!) {\n  addMoney(amount: $amount, currency: $currency) {\n    account {\n      id\n      balance\n    }\n  }\n}\n    "]);return V=function(){return e},e}function Y(){var e=Object(k.a)(["\n    query Accounts {\n  accounts {\n    id\n    balance\n    currency\n    sortCode\n    iban\n    bic\n  }\n}\n    "]);return Y=function(){return e},e}function G(){var e=Object(k.a)(["\n    query Account($currency: String!) {\n  account(currency: $currency) {\n    id\n    balance\n  }\n}\n    "]);return G=function(){return e},e}var Z=T()(G());var X=T()(Y());var Q=T()(V());T()(W());var _=T()(U());function K(e){return A.c(_,e)}var J=T()(H());var ee=T()(q());var te=T()(M());var ae=T()($());T()(P());var ne=T()(z());var re=T()(L());function le(e){return A.b(re,e)}var ce=T()(I());function ie(e){return A.c(ce,e)}var oe=T()(R());var se=T()(D());function ue(e){return A.c(se,e)}var me=T()(F());var de,fe=function(){return r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("img",{src:"loading.svg",alt:"Loading...",style:{height:"124px"}}))},pe=function(){var e,t=(e={fetchPolicy:"network-only"},A.c(me,e)).data;return t?r.a.createElement("div",null,r.a.createElement("div",null,"users: "),r.a.createElement("ul",null,t.users.map((function(e){return r.a.createElement("li",{key:e.id},e.id,", ",e.email,", ",e.firstName," ",e.lastName)})))):r.a.createElement(fe,null)},ge=a(43),Ee=a(556),he=a(565),ve=a(291);!function(e){e.PRIMARY="#222B2D",e.SECONDARY="#29AABB",e.ORANGE="#F15742",e.MAROON="#432D32",e.WHITE="#FFFEF9",e.HOVER="#148C9C"}(de||(de={}));var ye=Object(ve.a)({palette:{primary:{main:de.PRIMARY},secondary:{main:de.ORANGE},info:{main:de.MAROON},contrastThreshold:3,tonalOffset:.2}}),be=a(21),xe=be.d({firstName:be.f().required("First name is required"),lastName:be.f().required("Last name is required"),email:be.f().email().required("Email is required"),streetAddres:be.f().required("Street address is required"),postCode:be.f().required("Post code is required"),city:be.f().required("City is required"),country:be.f().required("Country is required"),password:be.b((function(e){return e?be.f().min(6,"Password must be at least 6 characters").required("Password is required"):be.f()})),confirmPassword:be.f().oneOf([be.e("password")],"Passwords do not match"),dateOfBirth:be.a().required("Date of birth is required")}),Oe=a(579),we=function(e){var t=e.placeholder,a=e.className,n=e.type,l=Object(j.a)(e,["placeholder","className","type"]),c=Object(ge.c)(l),i=Object(w.a)(c,2),o=i[0],s=i[1],u=s.error&&s.touched?s.error:"";return r.a.createElement(Ee.a,{theme:ye},r.a.createElement(Oe.a,Object.assign({className:a,type:n,variant:"outlined",required:!0,placeholder:t},o,{helperText:u,error:!!u})))},je=a(578),Ne=function(e){var t=e.message;return r.a.createElement(je.a,{variant:"outlined",severity:"success"},t)},Se=function(e){var t=e.message;return r.a.createElement(je.a,{variant:"outlined",severity:"error"},t)},Ce=a(564),ke=Object(Ce.a)({root:{margin:"0 auto",top:"25%",height:"100%",width:"348px"},headerText:{textAlign:"center",fontWeight:"bold"},alignedFormContent:{marginTop:12,display:"flex",width:"100%"},alignedFormField:{width:"50%"},formField:{width:"100%",marginTop:12},formButton:{marginTop:12,textTransform:"none",fontWeight:"bold",letterSpacing:1,textAlign:"center"},loginText:{margintop:12},spacer:{width:8}}),Be=function(e){var t,a=e.history,l=A.b(oe,t),c=Object(w.a)(l,1)[0],i=Object(n.useState)(""),o=Object(w.a)(i,2),s=o[0],u=o[1],m=ke();return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h1",{className:m.headerText},"Sign Up")),s.length>0&&r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(Se,{message:s})),r.a.createElement(ge.b,{initialValues:{firstName:"",lastName:"",streetAddres:"",postCode:"",city:"",country:"",email:"",password:"",confirmPassword:"",dateOfBirth:""},validationSchema:xe,onSubmit:function(){var e=Object(O.a)(x.a.mark((function e(t,n){var r,l,i,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=n.setSubmitting,i=n.resetForm,l(!0),e.next=4,c({variables:{firstName:t.firstName,lastName:t.lastName,email:t.email,password:t.password,streetAddress:t.streetAddres,postCode:t.postCode,city:t.city,country:t.country,dateOfBirth:t.dateOfBirth}});case 4:o=e.sent,(null===(r=o.data)||void 0===r?void 0:r.register)?(a.push("/login"),l(!1),i()):(u("User with that email already exists."),l(!1));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting;return r.a.createElement("div",{className:m.root},r.a.createElement(ge.a,{onChange:function(){return u("")}},r.a.createElement("div",{className:m.alignedFormContent},r.a.createElement(we,{className:m.alignedFormField,name:"firstName",placeholder:"First name",type:"input"}),r.a.createElement("div",{className:m.spacer}),r.a.createElement(we,{className:m.alignedFormField,name:"lastName",placeholder:"Last name",type:"input"})),r.a.createElement("div",null,r.a.createElement("div",{className:m.alignedFormContent},r.a.createElement(we,{className:m.alignedFormField,name:"streetAddres",placeholder:"Street address",type:"input"}),r.a.createElement("div",{className:m.spacer}),r.a.createElement(we,{className:m.alignedFormField,name:"postCode",placeholder:"Post code",type:"input"})),r.a.createElement("div",{className:m.alignedFormContent},r.a.createElement(we,{className:m.alignedFormField,name:"city",placeholder:"City",type:"input"}),r.a.createElement("div",{className:m.spacer}),r.a.createElement(we,{className:m.alignedFormField,name:"country",placeholder:"Country",type:"input"})),r.a.createElement(we,{className:m.formField,name:"email",placeholder:"Email",type:"input"}),r.a.createElement(we,{className:m.formField,name:"password",placeholder:"Password",type:"password"}),r.a.createElement(we,{className:m.formField,name:"confirmPassword",placeholder:"Confirm password",type:"password"}),r.a.createElement(we,{className:m.formField,name:"dateOfBirth",type:"date"})),r.a.createElement("div",{className:m.formButton},r.a.createElement(Ee.a,{theme:ye},r.a.createElement(he.a,{className:m.formButton,disabled:t,variant:"contained",color:"secondary",type:"submit"},"Sign Up"))),r.a.createElement("div",{className:m.loginText},r.a.createElement("p",null,"Already have an account? ",r.a.createElement("a",{href:"/login"},"Login here.")))))})))},Te=be.d({email:be.f().email().required("Email is required"),password:be.b((function(e){return e?be.f().min(6,"Password must be at least 6 characters").required("Password is required"):be.f()}))}),Ae=Object(Ce.a)({root:{margin:"0 auto",top:"25%",height:"100%",width:"348px"},headerText:{textAlign:"center",fontWeight:"bold"},formField:{width:"100%",marginTop:12},formButton:{marginTop:12,textTransform:"none",fontWeight:"bold",letterSpacing:1,textAlign:"center"},registerText:{marginTop:12}}),Fe=function(e){var t,a=e.history,l=A.b(ne,t),c=Object(w.a)(l,1)[0],i=Object(n.useState)(""),o=Object(w.a)(i,2),s=o[0],u=o[1],m=Ae();return r.a.createElement("div",{className:m.root},r.a.createElement("div",null,r.a.createElement("h1",{className:m.headerText},"Login")),s.length>0&&r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(Se,{message:s})),r.a.createElement(ge.b,{initialValues:{email:"",password:""},validationSchema:Te,onSubmit:function(){var e=Object(O.a)(x.a.mark((function e(t,n){var r,l,i,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,l=n.resetForm,r(!0),e.prev=2,e.next=5,c({variables:{email:t.email,password:t.password},update:function(e,t){var a=t.data;if(!a)return null;e.writeQuery({query:ce,data:{me:a.login.user}})}});case 5:(i=e.sent)&&i.data&&(E(i.data.login.accessToken),a.push("/accounts"),r(!1),l()),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),o=e.t0.message.split(":")[1],u(o),r(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting;return r.a.createElement("div",null,r.a.createElement(ge.a,null,r.a.createElement("div",null,r.a.createElement(we,{className:m.formField,name:"email",placeholder:"Email",type:"input"}),r.a.createElement(we,{className:m.formField,name:"password",placeholder:"Password",type:"password"})),r.a.createElement("div",{className:m.formButton},r.a.createElement(Ee.a,{theme:ye},r.a.createElement(he.a,{className:m.formButton,disabled:t,variant:"contained",color:"secondary",type:"submit"},"Login"))),r.a.createElement("div",{className:m.registerText},r.a.createElement("p",null,"Don't have an account? ",r.a.createElement("a",{href:"/register"},"Sign up here.")))))})))},De=a(562),Re=a(525),Ie=a(567),Le=a(568),ze=a(569),Pe=a(524),$e=a(570),Me=a(561),qe=a(581),He=a(577),Ue=a(571),We=a(62),Ve=function(e){var t=ue({variables:{currency:e.currency}}).data;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{width:"100%",height:"320px"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},"Spending (this month)"),r.a.createElement(We.e,{width:"100%"},r.a.createElement(We.b,{data:t?t.transactions.map((function(e){return{date:new Date(Date.parse(e.date)).toLocaleDateString(),type:e.transactionType,amount:e.amount}})):[],margin:{top:24,right:30,left:20,bottom:5}},r.a.createElement(We.c,{strokeDasharray:"3 3"}),r.a.createElement(We.g,{dataKey:"date"}),r.a.createElement(We.h,null),r.a.createElement(We.f,null),r.a.createElement(We.d,null),r.a.createElement(We.a,{type:"monotone",dataKey:"amount",stroke:"#29AABB",fill:"#29AABB"}),r.a.createElement(We.a,{type:"monotone",dataKey:"type",stroke:"#F15742"})))))},Ye=a(84),Ge=function(e){return r.a.createElement(Ye.a,{style:{fontWeight:"bold",fontSize:e.fontSize,color:de.PRIMARY}},e.title)};function Ze(){return(Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Xe(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Qe=r.a.createElement("g",null),_e=r.a.createElement("g",null),Ke=r.a.createElement("g",null),Je=r.a.createElement("g",null),et=r.a.createElement("g",null),tt=r.a.createElement("g",null),at=r.a.createElement("g",null),nt=r.a.createElement("g",null),rt=r.a.createElement("g",null),lt=r.a.createElement("g",null),ct=r.a.createElement("g",null),it=r.a.createElement("g",null),ot=r.a.createElement("g",null),st=r.a.createElement("g",null),ut=r.a.createElement("g",null),mt=function(e){var t=e.svgRef,a=e.title,n=Xe(e,["svgRef","title"]);return r.a.createElement("svg",Ze({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t},n),a?r.a.createElement("title",null,a):null,r.a.createElement("circle",{style:{fill:"#0052B4"},cx:256,cy:256,r:256}),r.a.createElement("g",null,r.a.createElement("polygon",{style:{fill:"#FFDA44"},points:"256.001,100.174 264.29,125.683 291.11,125.683 269.411,141.448 277.7,166.957  256.001,151.191 234.301,166.957 242.59,141.448 220.891,125.683 247.712,125.683  "}),r.a.createElement("polygon",{style:{fill:"#FFDA44"},points:"145.814,145.814 169.714,157.99 188.679,139.026 184.482,165.516 208.381,177.693  181.89,181.889 177.694,208.381 165.517,184.482 139.027,188.679 157.992,169.714  "}),r.a.createElement("polygon",{style:{fill:"#FFDA44"},points:"100.175,256 125.684,247.711 125.684,220.89 141.448,242.59 166.958,234.301 151.191,256  166.958,277.699 141.448,269.411 125.684,291.11 125.684,264.289  "}),r.a.createElement("polygon",{style:{fill:"#FFDA44"},points:"145.814,366.186 157.991,342.286 139.027,323.321 165.518,327.519 177.693,303.62  181.89,330.111 208.38,334.307 184.484,346.484 188.679,372.974 169.714,354.009  "}),r.a.createElement("polygon",{style:{fill:"#FFDA44"},points:"256.001,411.826 247.711,386.317 220.891,386.317 242.591,370.552 234.301,345.045  256.001,360.809 277.7,345.045 269.411,370.552 291.11,386.317 264.289,386.317  "}),r.a.createElement("polygon",{style:{fill:"#FFDA44"},points:"366.187,366.186 342.288,354.01 323.322,372.975 327.519,346.483 303.622,334.307  330.112,330.111 334.308,303.62 346.484,327.519 372.974,323.321 354.009,342.288  "}),r.a.createElement("polygon",{style:{fill:"#FFDA44"},points:"411.826,256 386.317,264.289 386.317,291.11 370.552,269.41 345.045,277.699 360.81,256  345.045,234.301 370.553,242.59 386.317,220.89 386.317,247.712  "}),r.a.createElement("polygon",{style:{fill:"#FFDA44"},points:"366.187,145.814 354.01,169.714 372.975,188.679 346.483,184.481 334.308,208.38  330.112,181.889 303.622,177.692 327.519,165.516 323.322,139.027 342.289,157.991  "})),Qe,_e,Ke,Je,et,tt,at,nt,rt,lt,ct,it,ot,st,ut)},dt=r.a.forwardRef((function(e,t){return r.a.createElement(mt,Ze({svgRef:t},e))}));a.p;function ft(){return(ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function pt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var gt=r.a.createElement("g",null),Et=r.a.createElement("g",null),ht=r.a.createElement("g",null),vt=r.a.createElement("g",null),yt=r.a.createElement("g",null),bt=r.a.createElement("g",null),xt=r.a.createElement("g",null),Ot=r.a.createElement("g",null),wt=r.a.createElement("g",null),jt=r.a.createElement("g",null),Nt=r.a.createElement("g",null),St=r.a.createElement("g",null),Ct=r.a.createElement("g",null),kt=r.a.createElement("g",null),Bt=r.a.createElement("g",null),Tt=function(e){var t=e.svgRef,a=e.title,n=pt(e,["svgRef","title"]);return r.a.createElement("svg",ft({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t},n),a?r.a.createElement("title",null,a):null,r.a.createElement("circle",{style:{fill:"#F0F0F0"},cx:256,cy:256,r:256}),r.a.createElement("g",null,r.a.createElement("path",{style:{fill:"#D80027"},d:"M244.87,256H512c0-23.106-3.08-45.49-8.819-66.783H244.87V256z"}),r.a.createElement("path",{style:{fill:"#D80027"},d:"M244.87,122.435h229.556c-15.671-25.572-35.708-48.175-59.07-66.783H244.87V122.435z"}),r.a.createElement("path",{style:{fill:"#D80027"},d:"M256,512c60.249,0,115.626-20.824,159.356-55.652H96.644C140.374,491.176,195.751,512,256,512z"}),r.a.createElement("path",{style:{fill:"#D80027"},d:"M37.574,389.565h436.852c12.581-20.529,22.338-42.969,28.755-66.783H8.819 C15.236,346.596,24.993,369.036,37.574,389.565z"})),r.a.createElement("path",{style:{fill:"#0052B4"},d:"M118.584,39.978h23.329l-21.7,15.765l8.289,25.509l-21.699-15.765L85.104,81.252l7.16-22.037 C73.158,75.13,56.412,93.776,42.612,114.552h7.475l-13.813,10.035c-2.152,3.59-4.216,7.237-6.194,10.938l6.596,20.301l-12.306-8.941 c-3.059,6.481-5.857,13.108-8.372,19.873l7.267,22.368h26.822l-21.7,15.765l8.289,25.509l-21.699-15.765l-12.998,9.444 C0.678,234.537,0,245.189,0,256h256c0-141.384,0-158.052,0-256C205.428,0,158.285,14.67,118.584,39.978z M128.502,230.4 l-21.699-15.765L85.104,230.4l8.289-25.509l-21.7-15.765h26.822l8.288-25.509l8.288,25.509h26.822l-21.7,15.765L128.502,230.4z  M120.213,130.317l8.289,25.509l-21.699-15.765l-21.699,15.765l8.289-25.509l-21.7-15.765h26.822l8.288-25.509l8.288,25.509h26.822 L120.213,130.317z M220.328,230.4l-21.699-15.765L176.93,230.4l8.289-25.509l-21.7-15.765h26.822l8.288-25.509l8.288,25.509h26.822 l-21.7,15.765L220.328,230.4z M212.039,130.317l8.289,25.509l-21.699-15.765l-21.699,15.765l8.289-25.509l-21.7-15.765h26.822 l8.288-25.509l8.288,25.509h26.822L212.039,130.317z M212.039,55.743l8.289,25.509l-21.699-15.765L176.93,81.252l8.289-25.509 l-21.7-15.765h26.822l8.288-25.509l8.288,25.509h26.822L212.039,55.743z"}),gt,Et,ht,vt,yt,bt,xt,Ot,wt,jt,Nt,St,Ct,kt,Bt)},At=r.a.forwardRef((function(e,t){return r.a.createElement(Tt,ft({svgRef:t},e))}));a.p;function Ft(){return(Ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Dt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Rt,It=r.a.createElement("g",null),Lt=r.a.createElement("g",null),zt=r.a.createElement("g",null),Pt=r.a.createElement("g",null),$t=r.a.createElement("g",null),Mt=r.a.createElement("g",null),qt=r.a.createElement("g",null),Ht=r.a.createElement("g",null),Ut=r.a.createElement("g",null),Wt=r.a.createElement("g",null),Vt=r.a.createElement("g",null),Yt=r.a.createElement("g",null),Gt=r.a.createElement("g",null),Zt=r.a.createElement("g",null),Xt=r.a.createElement("g",null),Qt=function(e){var t=e.svgRef,a=e.title,n=Dt(e,["svgRef","title"]);return r.a.createElement("svg",Ft({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t},n),a?r.a.createElement("title",null,a):null,r.a.createElement("circle",{style:{fill:"#F0F0F0"},cx:256,cy:256,r:256}),r.a.createElement("g",null,r.a.createElement("path",{style:{fill:"#0052B4"},d:"M52.92,100.142c-20.109,26.163-35.272,56.318-44.101,89.077h133.178L52.92,100.142z"}),r.a.createElement("path",{style:{fill:"#0052B4"},d:"M503.181,189.219c-8.829-32.758-23.993-62.913-44.101-89.076l-89.075,89.076H503.181z"}),r.a.createElement("path",{style:{fill:"#0052B4"},d:"M8.819,322.784c8.83,32.758,23.993,62.913,44.101,89.075l89.074-89.075L8.819,322.784L8.819,322.784 z"}),r.a.createElement("path",{style:{fill:"#0052B4"},d:"M411.858,52.921c-26.163-20.109-56.317-35.272-89.076-44.102v133.177L411.858,52.921z"}),r.a.createElement("path",{style:{fill:"#0052B4"},d:"M100.142,459.079c26.163,20.109,56.318,35.272,89.076,44.102V370.005L100.142,459.079z"}),r.a.createElement("path",{style:{fill:"#0052B4"},d:"M189.217,8.819c-32.758,8.83-62.913,23.993-89.075,44.101l89.075,89.075V8.819z"}),r.a.createElement("path",{style:{fill:"#0052B4"},d:"M322.783,503.181c32.758-8.83,62.913-23.993,89.075-44.101l-89.075-89.075V503.181z"}),r.a.createElement("path",{style:{fill:"#0052B4"},d:"M370.005,322.784l89.075,89.076c20.108-26.162,35.272-56.318,44.101-89.076H370.005z"})),r.a.createElement("g",null,r.a.createElement("path",{style:{fill:"#D80027"},d:"M509.833,222.609h-220.44h-0.001V2.167C278.461,0.744,267.317,0,256,0 c-11.319,0-22.461,0.744-33.391,2.167v220.44v0.001H2.167C0.744,233.539,0,244.683,0,256c0,11.319,0.744,22.461,2.167,33.391 h220.44h0.001v220.442C233.539,511.256,244.681,512,256,512c11.317,0,22.461-0.743,33.391-2.167v-220.44v-0.001h220.442 C511.256,278.461,512,267.319,512,256C512,244.683,511.256,233.539,509.833,222.609z"}),r.a.createElement("path",{style:{fill:"#D80027"},d:"M322.783,322.784L322.783,322.784L437.019,437.02c5.254-5.252,10.266-10.743,15.048-16.435 l-97.802-97.802h-31.482V322.784z"}),r.a.createElement("path",{style:{fill:"#D80027"},d:"M189.217,322.784h-0.002L74.98,437.019c5.252,5.254,10.743,10.266,16.435,15.048l97.802-97.804 V322.784z"}),r.a.createElement("path",{style:{fill:"#D80027"},d:"M189.217,189.219v-0.002L74.981,74.98c-5.254,5.252-10.266,10.743-15.048,16.435l97.803,97.803 H189.217z"}),r.a.createElement("path",{style:{fill:"#D80027"},d:"M322.783,189.219L322.783,189.219L437.02,74.981c-5.252-5.254-10.743-10.266-16.435-15.047 l-97.802,97.803V189.219z"})),It,Lt,zt,Pt,$t,Mt,qt,Ht,Ut,Wt,Vt,Yt,Gt,Zt,Xt)},_t=r.a.forwardRef((function(e,t){return r.a.createElement(Qt,Ft({svgRef:t},e))})),Kt=(a.p,Object(Ce.a)((function(e){return{root:{display:"flex"},content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(1),paddingBottom:e.spacing(4)},paper:{fontWeight:"bold",padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",borderRadius:8},fixedHeight:{height:240},accountCardHeight:{height:172},chart:{height:"100%"}}}))),Jt=a(563),ea=a(566),ta=a(285),aa=a.n(ta),na=a(114),ra=a.n(na),la=function(e){var t=e.svg,a=e.currencyIcon,n=e.fullCurrencyText,l=e.balance,c=e.iban,i=e.onAccountClicked;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.a.createElement("div",{style:{width:32}},t||r.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/4/46/Bitcoin.svg",alt:"...",style:{width:32}})),r.a.createElement(Ge,{title:n,fontSize:18}),r.a.createElement("div",null,r.a.createElement(Jt.a,{style:{color:de.PRIMARY},onClick:i},r.a.createElement(aa.a,{fontSize:"small"})))),r.a.createElement(Ye.a,{style:{margin:"0 auto",marginTop:"24px"},component:"p",variant:"h4"},a,l),r.a.createElement(ea.a,{style:{marginTop:24},light:!0}),r.a.createElement(Ye.a,{style:{marginTop:"14px",letterSpacing:1,color:"rgba(0, 0, 0, 0.3)"},component:"p"},c||"XXXX APL0 0099 YYYY ZZZZ 78"))},ca=function(e){var t=e.onCreateNewAccountClicked;return r.a.createElement("div",{style:{display:"flex",marginTop:"62px",justifyContent:"center"}},r.a.createElement(Ee.a,{theme:ye},r.a.createElement(he.a,{style:{fontWeight:"bold",textTransform:"none",letterSpacing:1},color:"primary",variant:"contained",startIcon:r.a.createElement(ra.a,null),onClick:t},"Create new account")))};!function(e){e.EURO="EUR",e.POUND="GBP",e.DOLLAR="USD",e.BITCOIN="BTC"}(Rt||(Rt={}));var ia=a(57),oa=Object(ia.a)({dialog:{width:"500px",maxWidth:"100%",margin:"0 auto",position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)",zIndex:999,backgroundColor:"#eee",padding:"10px 20px 40px",borderRadius:"8px",display:"flex",flexDirection:"column"},closeButton:{marginBottom:"15px",padding:"3px 8px",cursor:"pointer",borderRadius:"50%",border:"none",width:"30px",height:"30px",fontWeight:"bold",alignSelf:"flex-end"}}),sa=function(e){var t=e.children,a=e.isOpen,n=e.onClose,l=oa(),c=r.a.createElement("div",{className:l.dialog},r.a.createElement("button",{className:l.closeButton,onClick:n},"x"),t);return a||(c=void 0),r.a.createElement("div",null,c)};function ua(){return(ua=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ma(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var da=r.a.createElement("defs",null,r.a.createElement("style",null,".a{opacity:0;}.b{fill:#fff;}.c{fill:#ff5f00;}.d{fill:#eb001b;}.e{fill:#f79e1b;}")),fa=r.a.createElement("title",null,"Asset 1"),pa=r.a.createElement("g",{className:"a"},r.a.createElement("rect",{className:"b",width:131.39,height:86.9})),ga=r.a.createElement("rect",{className:"c",x:48.37,y:15.14,width:34.66,height:56.61}),Ea=r.a.createElement("path",{className:"d",d:"M51.94,43.45a35.94,35.94,0,0,1,13.75-28.3,36,36,0,1,0,0,56.61A35.94,35.94,0,0,1,51.94,43.45Z"}),ha=r.a.createElement("path",{className:"e",d:"M120.5,65.76V64.6H121v-.24h-1.19v.24h.47v1.16Zm2.31,0v-1.4h-.36l-.42,1-.42-1h-.36v1.4h.26V64.7l.39.91h.27l.39-.91v1.06Z"}),va=r.a.createElement("path",{className:"e",d:"M123.94,43.45a36,36,0,0,1-58.25,28.3,36,36,0,0,0,0-56.61,36,36,0,0,1,58.25,28.3Z"}),ya=function(e){var t=e.svgRef,a=e.title,n=ma(e,["svgRef","title"]);return r.a.createElement("svg",ua({viewBox:"0 0 131.39 86.9",ref:t},n),da,void 0===a?fa:a?r.a.createElement("title",null,a):null,pa,ga,Ea,ha,va)},ba=r.a.forwardRef((function(e,t){return r.a.createElement(ya,ua({svgRef:t},e))})),xa=(a.p,function(e){var t=e.cardNumber,a=e.validThru,n=e.cvv;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.a.createElement("div",null,r.a.createElement("span",{role:"img","aria-label":"logo"},"\ud83d\ude80")),r.a.createElement("div",{style:{fontSize:18,letterSpacing:2}},t),r.a.createElement("div",{style:{width:64}},r.a.createElement(ba,null))),r.a.createElement("div",null,r.a.createElement("div",{style:{textTransform:"uppercase",letterSpacing:.5}},"valid thru: "),r.a.createElement("div",null,a)),r.a.createElement("div",null,r.a.createElement("div",{style:{textTransform:"uppercase",letterSpacing:.5}},"cvv"),r.a.createElement("div",null,n)))}),Oa=function(e){var t=e.onCreateNewCardClicked;return r.a.createElement("div",{style:{display:"flex",marginTop:"62px",justifyContent:"center"}},r.a.createElement(Ee.a,{theme:ye},r.a.createElement(he.a,{style:{fontWeight:"bold",textTransform:"none",letterSpacing:1},color:"primary",variant:"contained",startIcon:r.a.createElement(ra.a,null),onClick:t},"Create new card")))},wa=["EUR","USD","GBP"],ja=function(){var e,t=A.c(X,e),a=t.data,l=t.loading,c=K(),i=function(e){return A.b(J,e)}(),o=Object(w.a)(i,1)[0],s=function(e){return A.b(ee,e)}(),u=Object(w.a)(s,1)[0],m=Object(n.useState)("EUR"),d=Object(w.a)(m,2),f=d[0],p=d[1],g=Object(n.useState)(0),E=Object(w.a)(g,2),h=E[0],v=E[1],y=Object(n.useState)(!1),b=Object(w.a)(y,2),j=b[0],S=b[1],C=Object(N.g)(),k=Kt(),B=k.paper+" "+k.accountCardHeight,T=k.paper+" "+k.chart;if(Object(n.useEffect)((function(){var e=0;a&&(a.accounts.forEach((function(t){e+=t.balance})),p(a.accounts[0].currency)),v(e)}),[l,a]),!a)return r.a.createElement(fe,null);var F=function(){var e=Object(O.a)(x.a.mark((function e(t){var a,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,u({variables:{},refetchQueries:[{query:_,variables:{}}]});case 4:(a=e.sent)&&a.data&&console.log("Card successfully created!"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),n=e.t0.message.split(":")[1],console.log(n);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:k.root},r.a.createElement(sa,{isOpen:j,onClose:function(){return S(!1)}},r.a.createElement(De.a,null,wa.map((function(e,t){return r.a.createElement(Re.a,{button:!0,key:e,onClick:Object(O.a)(x.a.mark((function t(){var a,n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o({variables:{currency:e},refetchQueries:[{query:X,variables:{}},{query:_,variables:{}}]});case 3:(a=t.sent)&&a.data&&(p(e),S(!1)),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),n=t.t0.message.split(":")[1],console.log(n);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))},r.a.createElement(Ie.a,null,r.a.createElement("div",{style:{width:32}},function(e){switch(e){case"EUR":return r.a.createElement(dt,null);case"USD":return r.a.createElement(At,null);case"GBP":return r.a.createElement(_t,null);case"BTC":return r.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/4/46/Bitcoin.svg",alt:"...",style:{width:32}})}}(e))),r.a.createElement(Le.a,{primary:e}))})))),r.a.createElement("main",{className:k.content},r.a.createElement($e.a,{maxWidth:"lg",className:k.container},r.a.createElement("div",{style:{marginBottom:12,display:"flex",justifyContent:"space-between"}},r.a.createElement("div",null,r.a.createElement(Ge,{title:"Analytics",fontSize:24}))),r.a.createElement(Ee.a,{theme:ye},r.a.createElement(Me.a,null,r.a.createElement(qe.a,{id:"select-filled-label"},"Account"),r.a.createElement(He.a,{labelId:"select-filled-label",id:"select-filled",value:f,onChange:function(e){return p(e.target.value)},label:"Account"},r.a.createElement(Ue.a,{value:""},r.a.createElement("em",null,"None")),wa.map((function(e){return r.a.createElement(Ue.a,{key:e,value:e},e)}))))),r.a.createElement(ze.a,{container:!0,spacing:3},r.a.createElement(ze.a,{item:!0,xs:12,md:12,lg:12},r.a.createElement(Pe.a,{className:T},r.a.createElement(Ve,{currency:f||"EUR"}))))),r.a.createElement($e.a,{maxWidth:"lg",className:k.container},r.a.createElement("div",{style:{marginBottom:12,marginTop:12,display:"flex",justifyContent:"space-between"}},r.a.createElement("div",null,r.a.createElement(Ge,{title:"Accounts",fontSize:24})),r.a.createElement("div",{style:{fontSize:18,fontWeight:"bold",color:"rgba(0, 0, 0, 0.3)"}},"Total balance: \xa3",h)),r.a.createElement(ze.a,{container:!0,spacing:3},a.accounts.length>0&&a.accounts.map((function(e){var t,a="",n="";switch(e.currency){case Rt.EURO:t=r.a.createElement(dt,null),a="\u20ac",n="Euro";break;case Rt.DOLLAR:t=r.a.createElement(At,null),a="$",n="US Dollar";break;case Rt.POUND:t=r.a.createElement(_t,null),a="\xa3",n="British Pound";break;case Rt.BITCOIN:t="",a="\u0e3f",n="Bitcoin"}return r.a.createElement(ze.a,{key:e.id,item:!0,xs:12,md:4,lg:4},r.a.createElement(Pe.a,{className:B},r.a.createElement(la,{svg:t,currencyIcon:a,fullCurrencyText:n,balance:e.balance,iban:e.iban,onAccountClicked:function(t){return function(e,t){e.preventDefault(),C.push({pathname:"/accounts/".concat(t.id),state:t})}(t,e)}})))})),a.accounts.length<=2&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ze.a,{item:!0,xs:12,md:4,lg:4},r.a.createElement(Pe.a,{className:B},r.a.createElement(ca,{onCreateNewAccountClicked:function(e){e.preventDefault(),S(!0)}})))))),r.a.createElement($e.a,{maxWidth:"lg",className:k.container},r.a.createElement("div",{style:{marginBottom:12}},r.a.createElement(Ge,{title:"Cards",fontSize:24})),r.a.createElement(ze.a,{container:!0,spacing:3},c.data&&c.data.cards&&c.data.cards.length>0&&c.data.cards.map((function(e){return r.a.createElement(ze.a,{key:e.id,item:!0,xs:12,md:4,lg:4},r.a.createElement(Pe.a,{className:B},r.a.createElement(xa,{cardNumber:e.cardNumber,validThru:new Date(Date.parse(e.expiresIn)).getMonth()+"/"+new Date(Date.parse(e.expiresIn)).getFullYear().toString().substr(-2),cvv:e.cvv})))})),c.data&&c.data.cards.length<=2&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ze.a,{item:!0,xs:12,md:4,lg:4},r.a.createElement(Pe.a,{className:B},r.a.createElement(Oa,{onCreateNewCardClicked:function(e){F(e)}}))))))))},Na=a(288),Sa=a.n(Na),Ca=a(289),ka=a.n(Ca),Ba=Object(Ce.a)({root:{margin:"0 auto",marginTop:24},accountBalance:{fontSize:28,textAlign:"center"},accountInfo:{display:"flex",justifyContent:"space-evenly",width:"240px",margin:"0 auto",marginTop:12,alignItems:"center"},accountButtonsSection:{textAlign:"center",display:"flex",justifyContent:"space-evenly",alignItems:"center",margin:"0 auto",width:"480px",marginTop:24},accountButton:{backgroundColor:de.PRIMARY,color:de.WHITE,width:32,height:32},accountButtonSection:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},accountButtonText:{marginTop:12,fontSize:14},transactions:{marginTop:12,margin:"0 auto",display:"flex",flexDirection:"column",width:480},transactionsHeader:{marginTop:12,display:"flex"},transactionCards:{marginTop:8},dialogButton:{marginTop:12,textTransform:"none",fontWeight:"bold",letterSpacing:1,textAlign:"center"}}),Ta=a(572),Aa=a(573),Fa=a(583),Da=a(574),Ra=a(575),Ia=a(576),La=a(287),za=a.n(La),Pa=a(582),$a=Object(Ce.a)((function(e){return Object(Pa.a)({root:{},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},expandedText:{fontSize:14,marginBottom:8}})})),Ma=function(e){var t=e.title,a=e.time,l=e.amount,c=e.card,i=e.fee,o=e.currencyIcon,s=$a(),u=Object(n.useState)(!1),m=Object(w.a)(u,2),d=m[0],f=m[1];return r.a.createElement("div",{style:{marginTop:12}},r.a.createElement(Ta.a,{className:s.root},r.a.createElement(Aa.a,{avatar:r.a.createElement(Fa.a,{"aria-label":"whatever"},"R"),title:t,subheader:a,style:{textAlign:"left"}}),r.a.createElement(Da.a,{style:{marginTop:"-40px"}},r.a.createElement(Ee.a,{theme:ye},r.a.createElement(Jt.a,{style:{marginLeft:420},color:"primary",onClick:function(){f(!d)},"aria-expanded":d,"aria-label":"show more"},r.a.createElement(za.a,null)))),r.a.createElement(Ra.a,{in:d,timeout:"auto",unmountOnExit:!0},r.a.createElement(Ia.a,{style:{marginTop:"-24px"}},r.a.createElement("hr",{style:{border:"none",borderBottom:"1px solid black"}}),r.a.createElement("div",{className:s.expandedText,style:{marginTop:12}},"Apollo card: ",r.a.createElement("span",{style:{color:"black"}},c)),r.a.createElement("div",{className:s.expandedText},"Amount:"," ",r.a.createElement("span",{style:{color:"black"}},o,l)),r.a.createElement("div",{className:s.expandedText},"Fee: ",r.a.createElement("span",{style:{color:"black"}},i))))))},qa=function(e){var t=e.account,a=e.currencyIcon,n=K().data,l=Ba();return t?r.a.createElement("div",null,r.a.createElement("div",{className:l.transactions},r.a.createElement("div",{className:l.transactionsHeader}),r.a.createElement("div",{className:l.transactionCards},t.transactions.length>0&&t.transactions.map((function(e){return r.a.createElement(Ma,{key:e.id,title:e.transactionType,time:new Date(Date.parse(e.date)).toLocaleDateString(),card:n?n.cards[0].cardNumber:void 0,fee:0,amount:e.amount,currencyIcon:a})}))))):r.a.createElement(fe,null)},Ha=be.d({amount:be.c().required().positive("Amount must be a positive number").integer()}),Ua=["EUR","USD","GBP"],Wa=function(){var e,t,a=Object(N.h)(),l=Object(n.useState)(""),c=Object(w.a)(l,2),i=c[0],o=c[1],s=Object(n.useState)(0),u=Object(w.a)(s,2),m=u[0],d=u[1],f=Object(n.useState)(!1),p=Object(w.a)(f,2),g=p[0],E=p[1],h=Object(n.useState)(!1),v=Object(w.a)(h,2),y=v[0],b=v[1],j=Object(n.useState)(!1),S=Object(w.a)(j,2),C=S[0],k=S[1],B=Object(n.useState)(""),T=Object(w.a)(B,2),F=T[0],D=T[1],R=Object(n.useState)(""),I=Object(w.a)(R,2),L=I[0],z=I[1],P=A.b(te,e),$=Object(w.a)(P,1)[0],M=function(e){return A.b(Q,e)}(),q=Object(w.a)(M,1)[0],H=function(e){return A.b(ae,e)}(),U=Object(w.a)(H,1)[0],W=ie(),V=function(e){return A.c(Z,e)}({variables:{currency:a.state.currency}}),Y=ue({variables:{currency:a.state.currency}}).data,G=Ba(),X="",_="";switch(Object(n.useEffect)((function(){V.data?d(V.data.account.balance):d(a.state.balance)}),[V,a]),a.state.currency){case"EUR":X="\u20ac",_="Euro",t=r.a.createElement(dt,null);break;case"USD":X="$",_="US Dollar",t=r.a.createElement(At,null);break;case"GBP":X="\xa3",_="British Pound",t=r.a.createElement(_t,null);break;case"BTC":X="\u0e3f",_="Bitcoin",t=void 0}var K=function(){var e=Object(O.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$({variables:{currency:a.state.currency},refetchQueries:[{query:se,variables:{currency:a.state.currency}}]});case 3:(t=e.sent)&&t.data&&d(t.data.createTransaction),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),n=e.t0.message.split(":")[1],console.log(n);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:G.root},r.a.createElement(sa,{isOpen:g,onClose:function(){return E(!1)}},r.a.createElement(Ge,{title:"Add money",fontSize:18}),r.a.createElement("div",{style:{marginTop:12}},r.a.createElement(ge.b,{initialValues:{amount:10},validationSchema:Ha,onSubmit:function(){var e=Object(O.a)(x.a.mark((function e(t,n){var r,l,c,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,l=n.resetForm,r(!0),e.prev=2,e.next=5,q({variables:{amount:t.amount,currency:a.state.currency}});case 5:(c=e.sent)&&c.data&&(r(!1),D("Successfully topped up your account"),E(!1),l()),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),i=e.t0.message.split(":")[1],z(i),r(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting;return r.a.createElement("div",null,r.a.createElement(ge.a,null,r.a.createElement(we,{name:"amount",placeholder:"amount",type:"number"}),r.a.createElement("div",null,r.a.createElement(Ee.a,{theme:ye},r.a.createElement(he.a,{className:G.dialogButton,disabled:t,variant:"contained",color:"secondary",type:"submit"},"Add money")))))})))),r.a.createElement(sa,{isOpen:y,onClose:function(){return b(!1)}},r.a.createElement(Ge,{title:"Exchange",fontSize:18}),r.a.createElement("div",{style:{marginTop:12}},r.a.createElement(ge.b,{initialValues:{amount:10},onSubmit:function(){var e=Object(O.a)(x.a.mark((function e(t,n){var r,l,c,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,l=n.resetForm,r(!0),e.prev=2,e.next=5,U({variables:{selectedAccountCurrency:a.state.currency,toAccountCurrency:i,amount:t.amount}});case 5:(c=e.sent)&&c.data&&c.data.exchange.success&&(r(!1),D("The exchange was successfully executed"),b(!1),l()),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),o=e.t0.message.split("")[1],z(o),r(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting;return r.a.createElement("div",null,r.a.createElement(ge.a,null,r.a.createElement(we,{name:"amount",placeholder:"amount",type:"number"}),r.a.createElement(Me.a,{style:{marginLeft:8},variant:"outlined"},r.a.createElement(qe.a,{id:"select-filled-label"},"To"),r.a.createElement(He.a,{labelId:"select-filled-label",id:"select-filled",value:i,onChange:function(e){o(e.target.value)},label:"To"},r.a.createElement(Ue.a,{value:""},r.a.createElement("em",null,"None")),Ua.filter((function(e){return e!==a.state.currency})).map((function(e){return r.a.createElement(Ue.a,{value:e},e)})))),r.a.createElement("div",null,r.a.createElement(Ee.a,{theme:ye},r.a.createElement(he.a,{className:G.dialogButton,disabled:t,variant:"contained",color:"secondary",type:"submit"},"Exchange")))))})))),function(){if(W&&W.data&&W.data.me)return r.a.createElement(sa,{isOpen:C,onClose:function(){return k(!1)}},"Beneficiary: ",W.data.me.firstName," ",W.data.me.lastName," ",r.a.createElement("br",null),"IBAN: ",a.state.iban," ",r.a.createElement("br",null),"BIC: ",a.state.bic)}(),F.length>0?r.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:12}},r.a.createElement(Ne,{message:F})):L.length>0?r.a.createElement("div",null,r.a.createElement(Se,{message:L})):void 0,r.a.createElement("div",{style:{position:"absolute",right:20}},r.a.createElement(Ee.a,{theme:ye},r.a.createElement(he.a,{color:"secondary",variant:"contained",style:{fontWeight:"bold",letterSpacing:1,textTransform:"none"},onClick:function(){return K()}},"Simulate"))),r.a.createElement("div",{className:G.accountBalance},X,m),r.a.createElement("div",{className:G.accountInfo},r.a.createElement("div",null,_),r.a.createElement("div",{style:{width:32}},t||r.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/4/46/Bitcoin.svg",alt:"...",style:{width:32}})),r.a.createElement("div",null,a.state.currency)),r.a.createElement("div",{className:G.accountButtonsSection},r.a.createElement(Ee.a,{theme:ye},r.a.createElement("div",null,r.a.createElement(Jt.a,{className:G.accountButton,"aria-label":"Add",onClick:function(e){e.preventDefault(),E(!0)}},r.a.createElement(ra.a,null)),r.a.createElement("div",{className:G.accountButtonText},"Add money")),r.a.createElement("div",null,r.a.createElement(Jt.a,{className:G.accountButton,"aria-label":"Exchange",onClick:function(e){e.preventDefault(),b(!0)}},r.a.createElement(Sa.a,null)),r.a.createElement("div",{className:G.accountButtonText},"Exchange")),r.a.createElement("div",null,r.a.createElement(Jt.a,{className:G.accountButton,"aria-label":"Details",onClick:function(e){e.preventDefault(),k(!0)}},r.a.createElement(ka.a,null)),r.a.createElement("div",{className:G.accountButtonText},"Details")))),r.a.createElement("hr",{style:{width:480,marginTop:24,color:"#fcfcfc"}}),r.a.createElement(qa,{account:Y,currencyIcon:X}))},Va=Object(ia.a)({toolbar:{top:0,left:0,width:"100%",height:"56px",backgroundColor:de.PRIMARY},navigation:{display:"flex",height:"100%",alignItems:"center",padding:"0 1rem"},logo:{textTransform:"uppercase",letterSpacing:2,marginLeft:"1.5rem","& a":{color:de.WHITE,textDecoration:"none",fontSize:"1.5rem"}},toggleButton:{},navigationItems:{"& ul":{listStyle:"none",margin:0,padding:0,display:"flex",alignItems:"center"},"& li":{padding:"0 0.5rem"},"& a":{color:de.WHITE,letterSpacing:1,textDecoration:"none",fontWeight:"bold"},"& a:hover":{color:de.SECONDARY},"& a:active":{color:de.SECONDARY}},navButton:{fontSize:14,fontWeight:"bold",letterSpacing:1,marginLeft:"1rem",height:32,width:102,borderRadius:4,border:"none",backgroundColor:de.SECONDARY,color:de.WHITE,cursor:"pointer","&:hover":{backgroundColor:de.HOVER},"&:focus":{outline:0}},spacer:{flex:1},"@media (max-width: 768px)":{navigationItems:{display:"none"}},"@media (min-width: 769px)":{toggleButton:{display:"none"},logo:{marginLeft:0}}}),Ya=Object(ia.a)({toggleButton:{display:"flex",flexDirection:"column",justifyContent:"space-around",height:"24px",width:"28px",background:"transparent",cursor:"pointer",padding:0,border:"none",boxSizing:"border-box","& :focus":{outline:"none"}},toggleButtonLine:{width:"30px",height:"2px",background:"white"}}),Ga=function(e){var t=Ya();return r.a.createElement("button",{className:t.toggleButton,onClick:e.click},r.a.createElement("div",{className:t.toggleButtonLine}),r.a.createElement("div",{className:t.toggleButtonLine}),r.a.createElement("div",{className:t.toggleButtonLine}))},Za=["Accounts","Insights"],Xa=function(e){var t=ie(),a=t.data,l=t.loading,c=le(),i=Object(w.a)(c,2),o=i[0],s=i[1].client,u=Object(n.useState)(!1),m=Object(w.a)(u,2),d=m[0],f=m[1],p=Object(N.g)(),g=Va();Object(n.useEffect)((function(){!l&&a&&a.me?f(!0):f(!1)}),[a,l]);return r.a.createElement("header",{className:g.toolbar},r.a.createElement("nav",{className:g.navigation},r.a.createElement("div",{className:g.toggleButton},r.a.createElement(Ga,{click:e.drawerClickHandler})),r.a.createElement("div",{className:g.logo},r.a.createElement("a",{href:"/"},r.a.createElement("span",{role:"img","aria-label":"logo"},"\ud83d\ude80"))),r.a.createElement("div",{className:g.spacer}),r.a.createElement("div",{className:g.navigationItems},r.a.createElement("ul",null,d?r.a.createElement(r.a.Fragment,null,Za.map((function(e){var t="/";switch(e){case"Accounts":t="/accounts";break;case"Insights":t="/"}return r.a.createElement("li",{key:e},r.a.createElement("a",{href:t},e))})),r.a.createElement("button",{className:g.navButton,onClick:function(){var e=Object(O.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,o().then((function(){return p.push("/")}));case 3:return E(""),e.next=6,s.resetStore();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:g.navButton,onClick:function(e){e.preventDefault(),p.push("/login")}},"Login"),r.a.createElement("button",{className:g.navButton,onClick:function(e){e.preventDefault(),p.push("/register")}},"Sign Up"))))))},Qa=Object(ia.a)({siderDrawer:{height:"100%",background:de.WHITE,boxShadow:"1px 0 7px rgba(0,0,0,0.5)",position:"fixed",top:0,left:0,width:"70%",maxWidth:"280px",zIndex:200,transform:"translateX(-100%)",transition:"transform 0.3s ease-out","& ul":{height:"100%",listStyle:"none",display:"flex",flexDirection:"column",justifyContent:"center"},"& li":{margin:"0.5rem 0"},"& a":{color:de.PRIMARY,textDecoration:"none",fontSize:"1.2rem"},"& a:hover":{color:de.ORANGE},"& a:active":{color:de.ORANGE}},open:{transform:"translateX(0)"},"@media (min-width: 769px)":{siderDrawer:{display:"none"}}}),_a=["Accounts","Insights","Logout"],Ka=["Login","Sign Up"],Ja=function(e){var t=ie(),a=t.data,l=t.loading,c=le(),i=Object(w.a)(c,2),o=i[0],s=i[1].client,u=Object(n.useState)(!1),m=Object(w.a)(u,2),d=m[0],f=m[1],p=Object(N.g)(),g=Qa();Object(n.useEffect)((function(){!l&&a&&a.me?f(!0):f(!1)}),[a,l]);var h=g.siderDrawer;e.show&&(h=g.siderDrawer+" "+g.open);return r.a.createElement("nav",{className:h},r.a.createElement("ul",null,d?r.a.createElement(r.a.Fragment,null,_a.map((function(e){var t="/",a=!1;switch(e){case"Accounts":t="/accounts";break;case"Insights":t="/";break;case"Logout":a=!0}return r.a.createElement("li",{key:e},r.a.createElement("a",{href:"/whatevs",onClick:function(){var e=Object(O.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!a){e.next=7;break}return e.next=4,o().then((function(){return p.push("/")}));case 4:return E(""),e.next=7,s.resetStore();case 7:p.push(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},e))}))):r.a.createElement(r.a.Fragment,null,Ka.map((function(e){var t="/";switch(e){case"Login":t="/login";break;case"Sign Up":t="/register"}return r.a.createElement("li",{key:e},r.a.createElement("a",{href:"/whatevs",onClick:function(e){e.preventDefault(),p.push(t)}},e))})))))},en=Object(ia.a)({backdrop:{position:"fixed",width:"100%",height:"100%",top:0,left:0,background:"rgba(0,0,0,0.3)",zIndex:100}}),tn=function(e){var t=en();return r.a.createElement("div",{className:t.backdrop,onClick:e.click})},an=function(e){var t=e.component,a=Object(j.a)(e,["component"]);return r.a.createElement(N.b,Object.assign({},a,{render:function(e){return g()?r.a.createElement(t,e):r.a.createElement(N.a,{to:{pathname:"/login"}})}}))},nn=function(e){var t=e.component,a=Object(j.a)(e,["component"]);return r.a.createElement(N.b,Object.assign({},a,{render:function(e){return g()?r.a.createElement(N.a,{to:{pathname:"/accounts"}}):r.a.createElement(t,e)}}))},rn=function(){var e,t=Object(n.useState)(!1),a=Object(w.a)(t,2),l=a[0],c=a[1];return l&&(e=r.a.createElement(tn,{click:function(){c(!1)}})),r.a.createElement(r.a.Fragment,null,r.a.createElement(C.Helmet,null,r.a.createElement("style",null,"body { background-color: ".concat(de.WHITE,"; }"))),r.a.createElement(S.a,null,r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(Xa,{drawerClickHandler:function(){c(!0)}}),r.a.createElement(Ja,{show:l}),e,r.a.createElement("main",{style:{marginTop:24}},r.a.createElement(N.d,null,r.a.createElement(N.b,{exact:!0,path:"/",component:pe}),r.a.createElement(nn,{exact:!0,path:"/register",component:Be}),r.a.createElement(nn,{exact:!0,path:"/login",component:Fe}),r.a.createElement(an,{exact:!0,path:"/accounts",component:ja}),r.a.createElement(an,{exact:!0,path:"/accounts/:id",component:Wa}),r.a.createElement(N.b,{path:"/",render:function(){return r.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:12}},"404 Not Found")}}))))))},ln=new o.a({}),cn=new m.a((function(e,t){return new d.a((function(a){var n;return Promise.resolve(e).then((function(e){var t=g();e.setContext({headers:{authorization:t?"Bearer ".concat(t):""}})})).then((function(){n=t(e).subscribe({next:a.next.bind(a),error:a.error.bind(a),complete:a.complete.bind(a)})})).catch(a.error.bind(a)),function(){n&&n.unsubscribe()}}))})),on=new i.a({link:m.a.from([new h.a({accessTokenField:"accessToken",isTokenValidOrUndefined:function(){var e=g();if(!e)return!0;try{var t=y()(e).exp;return!(Date.now()>=1e3*t)}catch(a){return!1}},fetchAccessToken:function(){return fetch("https://apollo-bank.herokuapp.com/refresh_token",{method:"POST",credentials:"include"})},handleFetch:function(e){E(e)},handleError:function(e){console.warn("Your refresh token is invalid. Try to relogin"),console.error(e)}}),Object(u.a)((function(e){var t=e.graphQLErrors,a=e.networkError;console.log(t),console.log(a)})),cn,new s.a({uri:"https://apollo-bank.herokuapp.com/graphql",credentials:"include"})]),cache:ln});c.a.render(r.a.createElement(f.a,{client:on},r.a.createElement((function(){var e=Object(n.useState)(!0),t=Object(w.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){fetch("https://apollo-bank.herokuapp.com/refresh_token",{method:"POST",credentials:"include"}).then(function(){var e=Object(O.a)(x.a.mark((function e(t){var a,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:a=e.sent,n=a.accessToken,E(n),l(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),a?r.a.createElement(fe,null):r.a.createElement(rn,null)}),null)),document.getElementById("root"))}},[[328,1,2]]]);
//# sourceMappingURL=main.05b3adb1.chunk.js.map
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{159:function(e,t,a){e.exports=a(177)},163:function(e,t,a){},177:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),c=a.n(l),o=(a(163),a(62)),i=a(151),s=a(152),m=a(149),u=a(22),d=a(25),p=a(26),f="",g=function(){return f},E=function(e){f=e},h=a(153),y=a(135),v=a.n(y),b=a(30),x=a.n(b),O=a(40),w=a(12),N=a(3),j=a(61),k=a(86),B=a(138),T=a(44),C=a(45),S=a.n(C),F=a(28);function A(){var e=Object(T.a)(["\n    query Users {\n  users {\n    id\n    email\n    firstName\n    lastName\n  }\n}\n    "]);return A=function(){return e},e}function D(){var e=Object(T.a)(["\n    mutation Register($email: String!, $password: String!, $firstName: String!, $lastName: String!, $dateOfBirth: String!, $streetAddress: String!, $postCode: String!, $city: String!, $country: String!) {\n  register(email: $email, password: $password, firsName: $firstName, lastName: $lastName, dateOfBirth: $dateOfBirth, streetAddress: $streetAddress, postCode: $postCode, city: $city, country: $country)\n}\n    "]);return D=function(){return e},e}function L(){var e=Object(T.a)(["\n    query Me {\n  me {\n    id\n    email\n    firstName\n    lastName\n  }\n}\n    "]);return L=function(){return e},e}function R(){var e=Object(T.a)(["\n    mutation Logout {\n  logout\n}\n    "]);return R=function(){return e},e}function I(){var e=Object(T.a)(["\n    mutation Login($email: String!, $password: String!) {\n  login(email: $email, password: $password) {\n    accessToken\n    user {\n      id\n      email\n      firstName\n      lastName\n    }\n  }\n}\n    "]);return I=function(){return e},e}function P(){var e=Object(T.a)(["\n    query Hello {\n  hello\n}\n    "]);return P=function(){return e},e}function z(){var e=Object(T.a)(["\n    mutation CreateAccount($currency: String!) {\n  createAccount(currency: $currency)\n}\n    "]);return z=function(){return e},e}function q(){var e=Object(T.a)(["\n    query Bye {\n  bye\n}\n    "]);return q=function(){return e},e}function M(){var e=Object(T.a)(["\n    query Accounts {\n  accounts {\n    id\n    balance\n    currency\n  }\n}\n    "]);return M=function(){return e},e}var $=S()(M());S()(q());var H=S()(z());S()(P());var U=S()(I());var V=S()(R());var W=S()(L());var G=S()(D());var Y=S()(A());var _,Q=function(){return r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("img",{src:"loading.svg",alt:"Loading...",style:{height:"124px"}}))},J=function(){var e,t=(e={fetchPolicy:"network-only"},F.c(Y,e)).data;return t?r.a.createElement("div",null,r.a.createElement("div",null,"users: "),r.a.createElement("ul",null,t.users.map((function(e){return r.a.createElement("li",{key:e.id},e.id,", ",e.email,", ",e.firstName," ",e.lastName)})))):r.a.createElement(Q,null)},X=a(59),K=a(208),Z=a(213),ee=a(150);!function(e){e.PRIMARY="#222B2D",e.SECONDARY="#29AABB",e.ORANGE="#F15742",e.MAROON="#432D32",e.WHITE="#FFFEF9",e.HOVER="#148C9C"}(_||(_={}));var te,ae=Object(ee.a)({palette:{primary:{main:_.PRIMARY},secondary:{main:_.ORANGE},contrastThreshold:3,tonalOffset:.2}}),ne=a(16),re=ne.c({firstName:ne.e().required("First name is required"),lastName:ne.e().required("Last name is required"),email:ne.e().email().required("Email is required"),streetAddres:ne.e().required("Street address is required"),postCode:ne.e().required("Post code is required"),city:ne.e().required("City is required"),country:ne.e().required("Country is required"),password:ne.b((function(e){return e?ne.e().min(6,"Password must be at least 6 characters").required("Password is required"):ne.e()})),confirmPassword:ne.e().oneOf([ne.d("password")],"Passwords do not match"),dateOfBirth:ne.a().required("Date of birth is required")}),le=a(218),ce=function(e){var t=e.placeholder,a=e.className,n=e.type,l=Object(N.a)(e,["placeholder","className","type"]),c=Object(X.c)(l),o=Object(w.a)(c,2),i=o[0],s=o[1],m=s.error&&s.touched?s.error:"";return r.a.createElement(K.a,{theme:ae},r.a.createElement(le.a,Object.assign({className:a,type:n,variant:"outlined",required:!0,placeholder:t},i,{helperText:m,error:!!m})))},oe=a(219),ie=function(e){var t=e.message;return r.a.createElement(oe.a,{variant:"outlined",severity:"error"},t)},se=a(212),me=Object(se.a)({headerText:{textAlign:"center"},root:{display:"flex",justifyContent:"center",width:"420px",margin:"0 auto"},alignedFormContent:{marginTop:12,display:"flex",width:"100%"},alignedFormField:{width:"50%",marginRight:8},formField:{width:"411px",marginRight:8,marginTop:12},formButton:{marginTop:12,textTransform:"none",fontWeight:"bold",letterSpacing:1,textAlign:"center"},loginText:{margintop:12}}),ue=function(e){var t,a=e.history,l=F.b(G,t),c=Object(w.a)(l,1)[0],o=Object(n.useState)(""),i=Object(w.a)(o,2),s=i[0],m=i[1],u=me();return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h1",{className:u.headerText},"Sign Up")),s.length>0&&r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(ie,{message:s})),r.a.createElement(X.b,{initialValues:{firstName:"",lastName:"",streetAddres:"",postCode:"",city:"",country:"",email:"",password:"",confirmPassword:"",dateOfBirth:""},validationSchema:re,onSubmit:function(){var e=Object(O.a)(x.a.mark((function e(t,n){var r,l,o,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=n.setSubmitting,o=n.resetForm,l(!0),e.next=4,c({variables:{firstName:t.firstName,lastName:t.lastName,email:t.email,password:t.password,streetAddress:t.streetAddres,postCode:t.postCode,city:t.city,country:t.country,dateOfBirth:t.dateOfBirth}});case 4:i=e.sent,(null===(r=i.data)||void 0===r?void 0:r.register)?(a.push("/login"),l(!1),o()):(m("User with that email already exists."),l(!1));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting;return r.a.createElement("div",{className:u.root},r.a.createElement(X.a,{onChange:function(){return m("")}},r.a.createElement("div",{className:u.alignedFormContent},r.a.createElement(ce,{className:u.alignedFormField,name:"firstName",placeholder:"First name",type:"input"}),r.a.createElement(ce,{className:u.alignedFormField,name:"lastName",placeholder:"Last name",type:"input"})),r.a.createElement("div",null,r.a.createElement("div",{className:u.alignedFormContent},r.a.createElement(ce,{className:u.alignedFormField,name:"streetAddres",placeholder:"Street address",type:"input"}),r.a.createElement(ce,{className:u.alignedFormField,name:"postCode",placeholder:"Post code",type:"input"})),r.a.createElement("div",{className:u.alignedFormContent},r.a.createElement(ce,{className:u.alignedFormField,name:"city",placeholder:"City",type:"input"}),r.a.createElement(ce,{className:u.alignedFormField,name:"country",placeholder:"Country",type:"input"})),r.a.createElement(ce,{className:u.formField,name:"email",placeholder:"Email",type:"input"}),r.a.createElement(ce,{className:u.formField,name:"password",placeholder:"Password",type:"password"}),r.a.createElement(ce,{className:u.formField,name:"confirmPassword",placeholder:"Confirm password",type:"password"}),r.a.createElement(ce,{className:u.formField,name:"dateOfBirth",type:"date"})),r.a.createElement("div",{className:u.formButton},r.a.createElement(K.a,{theme:ae},r.a.createElement(Z.a,{className:u.formButton,disabled:t,variant:"contained",color:"secondary",type:"submit"},"Sign Up"))),r.a.createElement("div",{className:u.loginText},r.a.createElement("p",null,"Already have an account? ",r.a.createElement("a",{href:"/login"},"Login here.")))))})))},de=ne.c({email:ne.e().email().required("Email is required"),password:ne.b((function(e){return e?ne.e().min(6,"Password must be at least 6 characters").required("Password is required"):ne.e()}))}),pe=Object(se.a)({root:{margin:"0 auto",top:"25%",height:"100%",width:"348px"},headerText:{textAlign:"center",fontWeight:"bold"},formField:{width:"100%",marginTop:12},formButton:{marginTop:12,textTransform:"none",fontWeight:"bold",letterSpacing:1,textAlign:"center"},registerText:{marginTop:12}}),fe=function(e){var t,a=e.history,l=F.b(U,t),c=Object(w.a)(l,1)[0],o=Object(n.useState)(""),i=Object(w.a)(o,2),s=i[0],m=i[1],u=pe();return r.a.createElement("div",{className:u.root},r.a.createElement("div",null,r.a.createElement("h1",{className:u.headerText},"Login")),s.length>0&&r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(ie,{message:s})),r.a.createElement(X.b,{initialValues:{email:"",password:""},validationSchema:de,onSubmit:function(){var e=Object(O.a)(x.a.mark((function e(t,n){var r,l,o,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,l=n.resetForm,r(!0),e.prev=2,e.next=5,c({variables:{email:t.email,password:t.password},update:function(e,t){var a=t.data;if(!a)return null;e.writeQuery({query:W,data:{me:a.login.user}})}});case 5:(o=e.sent)&&o.data&&(E(o.data.login.accessToken),a.push("/dashboard"),r(!1),l()),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),i=e.t0.message.split(":")[1],m(i),r(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.isSubmitting;return r.a.createElement("div",null,r.a.createElement(X.a,null,r.a.createElement("div",null,r.a.createElement(ce,{className:u.formField,name:"email",placeholder:"Email",type:"input"}),r.a.createElement(ce,{className:u.formField,name:"password",placeholder:"Password",type:"password"})),r.a.createElement("div",{className:u.formButton},r.a.createElement(K.a,{theme:ae},r.a.createElement(Z.a,{className:u.formButton,disabled:t,variant:"contained",color:"secondary",type:"submit"},"Login"))),r.a.createElement("div",{className:u.registerText},r.a.createElement("p",null,"Don't have an account? ",r.a.createElement("a",{href:"/register"},"Sign up here.")))))})))},ge=Object(se.a)({root:{display:"flex",flexDirection:"column"},icon:{position:"absolute",left:40,width:32},card:{marginTop:8,width:480,height:84,borderTop:"none",borderRight:"none",borderLeft:"none",borderRadius:0},cardBalance:{color:"black"},cardCurrency:{color:"black",textTransform:"none"}}),Ee=function(e){var t=e.currency,a=e.fullCurrencyText,n=e.currencyIcon,l=e.balance,c=e.svg,o=e.onClick,i=ge();return r.a.createElement("div",{className:i.root},r.a.createElement(K.a,{theme:ae},r.a.createElement(Z.a,{color:"primary",className:i.card,variant:"outlined",onClick:o},r.a.createElement("div",{className:i.icon},c||r.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/4/46/Bitcoin.svg",alt:"...",style:{width:32}})),r.a.createElement("div",null,r.a.createElement("div",{className:i.cardBalance},n,l),r.a.createElement("div",{className:i.cardCurrency},t," \u2022 ",a)))))};function he(){return(he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ye(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}!function(e){e.EURO="EUR",e.POUND="GBP",e.DOLLAR="USD",e.BITCOIN="BTC"}(te||(te={}));var ve=r.a.createElement("g",null),be=r.a.createElement("g",null),xe=r.a.createElement("g",null),Oe=r.a.createElement("g",null),we=r.a.createElement("g",null),Ne=r.a.createElement("g",null),je=r.a.createElement("g",null),ke=r.a.createElement("g",null),Be=r.a.createElement("g",null),Te=r.a.createElement("g",null),Ce=r.a.createElement("g",null),Se=r.a.createElement("g",null),Fe=r.a.createElement("g",null),Ae=r.a.createElement("g",null),De=r.a.createElement("g",null),Le=function(e){var t=e.svgRef,a=e.title,n=ye(e,["svgRef","title"]);return r.a.createElement("svg",he({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t},n),a?r.a.createElement("title",null,a):null,r.a.createElement("circle",{style:{fill:"#0052B4"},cx:256,cy:256,r:256}),r.a.createElement("g",null,r.a.createElement("polygon",{style:{fill:"#FFDA44"},points:"256.001,100.174 264.29,125.683 291.11,125.683 269.411,141.448 277.7,166.957  256.001,151.191 234.301,166.957 242.59,141.448 220.891,125.683 247.712,125.683  "}),r.a.createElement("polygon",{style:{fill:"#FFDA44"},points:"145.814,145.814 169.714,157.99 188.679,139.026 184.482,165.516 208.381,177.693  181.89,181.889 177.694,208.381 165.517,184.482 139.027,188.679 157.992,169.714  "}),r.a.createElement("polygon",{style:{fill:"#FFDA44"},points:"100.175,256 125.684,247.711 125.684,220.89 141.448,242.59 166.958,234.301 151.191,256  166.958,277.699 141.448,269.411 125.684,291.11 125.684,264.289  "}),r.a.createElement("polygon",{style:{fill:"#FFDA44"},points:"145.814,366.186 157.991,342.286 139.027,323.321 165.518,327.519 177.693,303.62  181.89,330.111 208.38,334.307 184.484,346.484 188.679,372.974 169.714,354.009  "}),r.a.createElement("polygon",{style:{fill:"#FFDA44"},points:"256.001,411.826 247.711,386.317 220.891,386.317 242.591,370.552 234.301,345.045  256.001,360.809 277.7,345.045 269.411,370.552 291.11,386.317 264.289,386.317  "}),r.a.createElement("polygon",{style:{fill:"#FFDA44"},points:"366.187,366.186 342.288,354.01 323.322,372.975 327.519,346.483 303.622,334.307  330.112,330.111 334.308,303.62 346.484,327.519 372.974,323.321 354.009,342.288  "}),r.a.createElement("polygon",{style:{fill:"#FFDA44"},points:"411.826,256 386.317,264.289 386.317,291.11 370.552,269.41 345.045,277.699 360.81,256  345.045,234.301 370.553,242.59 386.317,220.89 386.317,247.712  "}),r.a.createElement("polygon",{style:{fill:"#FFDA44"},points:"366.187,145.814 354.01,169.714 372.975,188.679 346.483,184.481 334.308,208.38  330.112,181.889 303.622,177.692 327.519,165.516 323.322,139.027 342.289,157.991  "})),ve,be,xe,Oe,we,Ne,je,ke,Be,Te,Ce,Se,Fe,Ae,De)},Re=r.a.forwardRef((function(e,t){return r.a.createElement(Le,he({svgRef:t},e))}));a.p;function Ie(){return(Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Pe(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ze=r.a.createElement("g",null),qe=r.a.createElement("g",null),Me=r.a.createElement("g",null),$e=r.a.createElement("g",null),He=r.a.createElement("g",null),Ue=r.a.createElement("g",null),Ve=r.a.createElement("g",null),We=r.a.createElement("g",null),Ge=r.a.createElement("g",null),Ye=r.a.createElement("g",null),_e=r.a.createElement("g",null),Qe=r.a.createElement("g",null),Je=r.a.createElement("g",null),Xe=r.a.createElement("g",null),Ke=r.a.createElement("g",null),Ze=function(e){var t=e.svgRef,a=e.title,n=Pe(e,["svgRef","title"]);return r.a.createElement("svg",Ie({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t},n),a?r.a.createElement("title",null,a):null,r.a.createElement("circle",{style:{fill:"#F0F0F0"},cx:256,cy:256,r:256}),r.a.createElement("g",null,r.a.createElement("path",{style:{fill:"#D80027"},d:"M244.87,256H512c0-23.106-3.08-45.49-8.819-66.783H244.87V256z"}),r.a.createElement("path",{style:{fill:"#D80027"},d:"M244.87,122.435h229.556c-15.671-25.572-35.708-48.175-59.07-66.783H244.87V122.435z"}),r.a.createElement("path",{style:{fill:"#D80027"},d:"M256,512c60.249,0,115.626-20.824,159.356-55.652H96.644C140.374,491.176,195.751,512,256,512z"}),r.a.createElement("path",{style:{fill:"#D80027"},d:"M37.574,389.565h436.852c12.581-20.529,22.338-42.969,28.755-66.783H8.819 C15.236,346.596,24.993,369.036,37.574,389.565z"})),r.a.createElement("path",{style:{fill:"#0052B4"},d:"M118.584,39.978h23.329l-21.7,15.765l8.289,25.509l-21.699-15.765L85.104,81.252l7.16-22.037 C73.158,75.13,56.412,93.776,42.612,114.552h7.475l-13.813,10.035c-2.152,3.59-4.216,7.237-6.194,10.938l6.596,20.301l-12.306-8.941 c-3.059,6.481-5.857,13.108-8.372,19.873l7.267,22.368h26.822l-21.7,15.765l8.289,25.509l-21.699-15.765l-12.998,9.444 C0.678,234.537,0,245.189,0,256h256c0-141.384,0-158.052,0-256C205.428,0,158.285,14.67,118.584,39.978z M128.502,230.4 l-21.699-15.765L85.104,230.4l8.289-25.509l-21.7-15.765h26.822l8.288-25.509l8.288,25.509h26.822l-21.7,15.765L128.502,230.4z  M120.213,130.317l8.289,25.509l-21.699-15.765l-21.699,15.765l8.289-25.509l-21.7-15.765h26.822l8.288-25.509l8.288,25.509h26.822 L120.213,130.317z M220.328,230.4l-21.699-15.765L176.93,230.4l8.289-25.509l-21.7-15.765h26.822l8.288-25.509l8.288,25.509h26.822 l-21.7,15.765L220.328,230.4z M212.039,130.317l8.289,25.509l-21.699-15.765l-21.699,15.765l8.289-25.509l-21.7-15.765h26.822 l8.288-25.509l8.288,25.509h26.822L212.039,130.317z M212.039,55.743l8.289,25.509l-21.699-15.765L176.93,81.252l8.289-25.509 l-21.7-15.765h26.822l8.288-25.509l8.288,25.509h26.822L212.039,55.743z"}),ze,qe,Me,$e,He,Ue,Ve,We,Ge,Ye,_e,Qe,Je,Xe,Ke)},et=r.a.forwardRef((function(e,t){return r.a.createElement(Ze,Ie({svgRef:t},e))}));a.p;function tt(){return(tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function at(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var nt=r.a.createElement("g",null),rt=r.a.createElement("g",null),lt=r.a.createElement("g",null),ct=r.a.createElement("g",null),ot=r.a.createElement("g",null),it=r.a.createElement("g",null),st=r.a.createElement("g",null),mt=r.a.createElement("g",null),ut=r.a.createElement("g",null),dt=r.a.createElement("g",null),pt=r.a.createElement("g",null),ft=r.a.createElement("g",null),gt=r.a.createElement("g",null),Et=r.a.createElement("g",null),ht=r.a.createElement("g",null),yt=function(e){var t=e.svgRef,a=e.title,n=at(e,["svgRef","title"]);return r.a.createElement("svg",tt({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t},n),a?r.a.createElement("title",null,a):null,r.a.createElement("circle",{style:{fill:"#F0F0F0"},cx:256,cy:256,r:256}),r.a.createElement("g",null,r.a.createElement("path",{style:{fill:"#0052B4"},d:"M52.92,100.142c-20.109,26.163-35.272,56.318-44.101,89.077h133.178L52.92,100.142z"}),r.a.createElement("path",{style:{fill:"#0052B4"},d:"M503.181,189.219c-8.829-32.758-23.993-62.913-44.101-89.076l-89.075,89.076H503.181z"}),r.a.createElement("path",{style:{fill:"#0052B4"},d:"M8.819,322.784c8.83,32.758,23.993,62.913,44.101,89.075l89.074-89.075L8.819,322.784L8.819,322.784 z"}),r.a.createElement("path",{style:{fill:"#0052B4"},d:"M411.858,52.921c-26.163-20.109-56.317-35.272-89.076-44.102v133.177L411.858,52.921z"}),r.a.createElement("path",{style:{fill:"#0052B4"},d:"M100.142,459.079c26.163,20.109,56.318,35.272,89.076,44.102V370.005L100.142,459.079z"}),r.a.createElement("path",{style:{fill:"#0052B4"},d:"M189.217,8.819c-32.758,8.83-62.913,23.993-89.075,44.101l89.075,89.075V8.819z"}),r.a.createElement("path",{style:{fill:"#0052B4"},d:"M322.783,503.181c32.758-8.83,62.913-23.993,89.075-44.101l-89.075-89.075V503.181z"}),r.a.createElement("path",{style:{fill:"#0052B4"},d:"M370.005,322.784l89.075,89.076c20.108-26.162,35.272-56.318,44.101-89.076H370.005z"})),r.a.createElement("g",null,r.a.createElement("path",{style:{fill:"#D80027"},d:"M509.833,222.609h-220.44h-0.001V2.167C278.461,0.744,267.317,0,256,0 c-11.319,0-22.461,0.744-33.391,2.167v220.44v0.001H2.167C0.744,233.539,0,244.683,0,256c0,11.319,0.744,22.461,2.167,33.391 h220.44h0.001v220.442C233.539,511.256,244.681,512,256,512c11.317,0,22.461-0.743,33.391-2.167v-220.44v-0.001h220.442 C511.256,278.461,512,267.319,512,256C512,244.683,511.256,233.539,509.833,222.609z"}),r.a.createElement("path",{style:{fill:"#D80027"},d:"M322.783,322.784L322.783,322.784L437.019,437.02c5.254-5.252,10.266-10.743,15.048-16.435 l-97.802-97.802h-31.482V322.784z"}),r.a.createElement("path",{style:{fill:"#D80027"},d:"M189.217,322.784h-0.002L74.98,437.019c5.252,5.254,10.743,10.266,16.435,15.048l97.802-97.804 V322.784z"}),r.a.createElement("path",{style:{fill:"#D80027"},d:"M189.217,189.219v-0.002L74.981,74.98c-5.254,5.252-10.266,10.743-15.048,16.435l97.803,97.803 H189.217z"}),r.a.createElement("path",{style:{fill:"#D80027"},d:"M322.783,189.219L322.783,189.219L437.02,74.981c-5.252-5.254-10.743-10.266-16.435-15.047 l-97.802,97.803V189.219z"})),nt,rt,lt,ct,ot,it,st,mt,ut,dt,pt,ft,gt,Et,ht)},vt=r.a.forwardRef((function(e,t){return r.a.createElement(yt,tt({svgRef:t},e))})),bt=(a.p,Object(se.a)({root:{display:"flex",alignItems:"center",textalign:"center",flexDirection:"column"},newAccountButton:{position:"absolute",right:20,marginTop:10},accountInfo:{display:"flex",justifyContent:"space-between",fontSize:15},accountList:{marginTop:8}})),xt=function(){var e,t=F.c($,e),a=t.data,l=t.loading,c=function(e){return F.b(H,e)}(),o=Object(w.a)(c,1)[0],i=Object(n.useState)(0),s=Object(w.a)(i,2),m=s[0],u=s[1],d=Object(n.useState)(""),p=Object(w.a)(d,2),f=p[0],g=p[1],E=Object(j.g)(),h=bt();return Object(n.useEffect)((function(){var e=0;a&&a.accounts.forEach((function(t){e+=t.balance})),u(e)}),[l,a]),a?r.a.createElement("div",{className:h.root},r.a.createElement("div",null,r.a.createElement("h2",null,"Accounts")),f.length>0&&r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(ie,{message:f})),r.a.createElement("div",{className:h.newAccountButton},r.a.createElement(K.a,{theme:ae},r.a.createElement(Z.a,{variant:"contained",color:"secondary",type:"submit",onClick:function(){var e=Object(O.a)(x.a.mark((function e(t){var a,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),"BTC",e.prev=2,e.next=5,o({variables:{currency:"BTC"},refetchQueries:[{query:$,variables:{}}]});case 5:(a=e.sent)&&a.data&&console.log("working..."),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),n=e.t0.message.split(":")[1],g(n);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},"+ New"))),r.a.createElement("div",{style:{marginTop:8}},r.a.createElement("div",{className:h.accountInfo},r.a.createElement("div",null,"Currencies"),r.a.createElement("div",null,"\u20ac",m)),r.a.createElement("div",{className:h.accountList},a.accounts.map((function(e){var t,a="",n="";switch(e.currency){case te.EURO:t=r.a.createElement(Re,null),a="\u20ac",n="Euro";break;case te.DOLLAR:t=r.a.createElement(et,null),a="\uff04",n="US Dollar";break;case te.POUND:t=r.a.createElement(vt,null),a="\xa3",n="British Pound";break;case te.BITCOIN:t="",a="\u0e3f",n="Bitcoin"}return r.a.createElement(Ee,{key:e.id,currency:e.currency,fullCurrencyText:n,currencyIcon:a,balance:e.balance,svg:t,onClick:function(t){t.preventDefault(),E.push({pathname:"/accounts/".concat(e.id),state:e})}})}))))):r.a.createElement(Q,null)},Ot=a(211),wt=a(146),Nt=a.n(wt),jt=a(147),kt=a.n(jt),Bt=a(148),Tt=a.n(Bt),Ct=a(214),St=a(221),Ft=a(222),At=a(215),Dt=a(216),Lt=a(217),Rt=a(145),It=a.n(Rt),Pt=a(220),zt=Object(se.a)((function(e){return Object(Pt.a)({root:{},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},expandedText:{fontSize:14,marginBottom:8}})})),qt=function(e){var t=e.title,a=e.time,l=e.amount,c=e.card,o=e.fee,i=zt(),s=Object(n.useState)(!1),m=Object(w.a)(s,2),u=m[0],d=m[1];return r.a.createElement("div",{style:{marginTop:12}},r.a.createElement(Ct.a,{className:i.root},r.a.createElement(St.a,{avatar:r.a.createElement(Ft.a,{"aria-label":"whatever"},"R"),title:t,subheader:a,style:{textAlign:"left"}}),r.a.createElement(At.a,{style:{marginTop:"-40px"}},r.a.createElement(K.a,{theme:ae},r.a.createElement(Ot.a,{style:{marginLeft:420},color:"primary",onClick:function(){d(!u)},"aria-expanded":u,"aria-label":"show more"},r.a.createElement(It.a,null)))),r.a.createElement(Dt.a,{in:u,timeout:"auto",unmountOnExit:!0},r.a.createElement(Lt.a,{style:{marginTop:"-24px"}},r.a.createElement("hr",{style:{border:"none",borderBottom:"1px solid black"}}),r.a.createElement("div",{className:i.expandedText,style:{marginTop:12}},"Apollo card: ",r.a.createElement("span",{style:{color:"black"}},"*",c)),r.a.createElement("div",{className:i.expandedText},"Spent: ",r.a.createElement("span",{style:{color:"black"}},"\xa3",l)),r.a.createElement("div",{className:i.expandedText},"Fee: ",r.a.createElement("span",{style:{color:"black"}},o))))))},Mt=Object(se.a)({root:{margin:"0 auto",marginTop:24},accountBalance:{fontSize:28,textAlign:"center"},accountInfo:{display:"flex",justifyContent:"space-evenly",width:"240px",margin:"0 auto",marginTop:12,alignItems:"center"},accountButtonsSection:{textAlign:"center",display:"flex",justifyContent:"space-evenly",alignItems:"center",margin:"0 auto",width:"480px",marginTop:24},accountButton:{backgroundColor:_.PRIMARY,color:_.WHITE,width:32,height:32},accountButtonSection:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},accountButtonText:{marginTop:12,fontSize:14},transactions:{marginTop:12,margin:"0 auto",display:"flex",flexDirection:"column",width:480},transactionsHeader:{marginTop:12,display:"flex"},transactionCards:{marginTop:8}}),$t=[];$t.push({date:"Today",title:"Asda Aberdeen Beach Superstore",time:"15:52",income:0,expenses:24.28},{date:"Today",title:"Robert Gordon University",time:"12:30",income:0,expenses:3.79},{date:"Today",title:"Robert Gordon University",time:"12:30",income:0,expenses:3.79},{date:"Today",title:"Robert Gordon University",time:"12:30",income:0,expenses:3.79},{date:"Today",title:"Robert Gordon University",time:"12:30",income:0,expenses:3.79});var Ht=function(){var e=Mt();return r.a.createElement("div",null,r.a.createElement("div",{className:e.transactions},r.a.createElement("div",{className:e.transactionsHeader},"Today"),r.a.createElement("div",{className:e.transactionCards},$t.map((function(e,t){return r.a.createElement(qt,{key:t,title:e.title,time:e.time,card:6254,fee:0,amount:e.expenses?e.expenses:e.income})})))))},Ut=function(){var e,t=Object(j.g)(),a=Mt(),n="",l="";switch(t.location.state.currency){case"EUR":n="\u20ac",l="Euro",e=r.a.createElement(Re,null);break;case"USD":n="$",l="US Dollar",e=r.a.createElement(et,null);break;case"GBP":n="\xa3",l="British Pound",e=r.a.createElement(vt,null);break;case"BTC":n="\u0e3f",l="Bitcoin",e=void 0}return r.a.createElement("div",{className:a.root},r.a.createElement("div",{className:a.accountBalance},n,t.location.state.balance),r.a.createElement("div",{className:a.accountInfo},r.a.createElement("div",null,l),r.a.createElement("div",{style:{width:32}},e||r.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/4/46/Bitcoin.svg",alt:"...",style:{width:32}})),r.a.createElement("div",null,t.location.state.currency)),r.a.createElement("div",{className:a.accountButtonsSection},r.a.createElement(K.a,{theme:ae},r.a.createElement("div",null,r.a.createElement(Ot.a,{className:a.accountButton,"aria-label":"Add"},r.a.createElement(Nt.a,null)),r.a.createElement("div",{className:a.accountButtonText},"Add")),r.a.createElement("div",null,r.a.createElement(Ot.a,{className:a.accountButton,"aria-label":"Exchange"},r.a.createElement(kt.a,null)),r.a.createElement("div",{className:a.accountButtonText},"Exchange")),r.a.createElement("div",null,r.a.createElement(Ot.a,{className:a.accountButton,"aria-label":"Details"},r.a.createElement(Tt.a,null)),r.a.createElement("div",{className:a.accountButtonText},"Details")))),r.a.createElement("hr",{style:{width:480,marginTop:24,color:"#fcfcfc"}}),r.a.createElement(Ht,null))},Vt=a(53),Wt=Object(Vt.a)({toolbar:{position:"fixed",top:0,left:0,width:"100%",height:"56px",backgroundColor:_.PRIMARY},navigation:{display:"flex",height:"100%",alignItems:"center",padding:"0 1rem"},logo:{textTransform:"uppercase",letterSpacing:2,marginLeft:"1.5rem","& a":{color:_.WHITE,textDecoration:"none",fontSize:"1.5rem"}},toggleButton:{},navigationItems:{"& ul":{listStyle:"none",margin:0,padding:0,display:"flex",alignItems:"center"},"& li":{padding:"0 0.5rem"},"& a":{color:_.WHITE,letterSpacing:1,textDecoration:"none",fontWeight:"bold"},"& a:hover":{color:_.SECONDARY},"& a:active":{color:_.SECONDARY}},navButton:{fontSize:14,fontWeight:"bold",letterSpacing:1,marginLeft:"1rem",height:32,width:102,borderRadius:4,border:"none",backgroundColor:_.SECONDARY,color:_.WHITE,cursor:"pointer","&:hover":{backgroundColor:_.HOVER},"&:focus":{outline:0}},spacer:{flex:1},"@media (max-width: 768px)":{navigationItems:{display:"none"}},"@media (min-width: 769px)":{toggleButton:{display:"none"},logo:{marginLeft:0}}}),Gt=Object(Vt.a)({toggleButton:{display:"flex",flexDirection:"column",justifyContent:"space-around",height:"24px",width:"28px",background:"transparent",cursor:"pointer",padding:0,border:"none",boxSizing:"border-box","& :focus":{outline:"none"}},toggleButtonLine:{width:"30px",height:"2px",background:"white"}}),Yt=function(e){var t=Gt();return r.a.createElement("button",{className:t.toggleButton,onClick:e.click},r.a.createElement("div",{className:t.toggleButtonLine}),r.a.createElement("div",{className:t.toggleButtonLine}),r.a.createElement("div",{className:t.toggleButtonLine}))},_t=["Dashboard","Accounts"],Qt=function(e){var t,a=F.c(W,t),l=a.data,c=a.loading,o=function(e){return F.b(V,e)}(),i=Object(w.a)(o,2),s=i[0],m=i[1].client,u=Object(n.useState)(!1),d=Object(w.a)(u,2),p=d[0],f=d[1],g=Object(j.g)(),h=Wt();Object(n.useEffect)((function(){!c&&l&&l.me?f(!0):f(!1)}),[l,c]);return r.a.createElement("header",{className:h.toolbar},r.a.createElement("nav",{className:h.navigation},r.a.createElement("div",{className:h.toggleButton},r.a.createElement(Yt,{click:e.drawerClickHandler})),r.a.createElement("div",{className:h.logo},r.a.createElement("a",{href:"/"},r.a.createElement("span",{role:"img","aria-label":"logo"},"\ud83d\ude80"))),r.a.createElement("div",{className:h.spacer}),r.a.createElement("div",{className:h.navigationItems},r.a.createElement("ul",null,p?r.a.createElement(r.a.Fragment,null,_t.map((function(e){var t="/";switch(e){case"Dashboard":t="/dashboard";break;case"Accounts":t="/accounts"}return r.a.createElement("li",{key:e},r.a.createElement("a",{href:t},e))})),r.a.createElement("button",{className:h.navButton,onClick:function(){var e=Object(O.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,s().then((function(){return g.push("/")}));case 3:return E(""),e.next=6,m.resetStore();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:h.navButton,onClick:function(e){e.preventDefault(),g.push("/login")}},"Login"),r.a.createElement("button",{className:h.navButton,onClick:function(e){e.preventDefault(),g.push("/register")}},"Sign Up"))))))},Jt=Object(Vt.a)({siderDrawer:{height:"100%",background:_.WHITE,boxShadow:"1px 0 7px rgba(0,0,0,0.5)",position:"fixed",top:0,left:0,width:"70%",maxWidth:"280px",zIndex:200,transform:"translateX(-100%)",transition:"transform 0.3s ease-out","& ul":{height:"100%",listStyle:"none",display:"flex",flexDirection:"column",justifyContent:"center"},"& li":{margin:"0.5rem 0"},"& a":{color:_.PRIMARY,textDecoration:"none",fontSize:"1.2rem"},"& a:hover":{color:_.ORANGE},"& a:active":{color:_.ORANGE}},open:{transform:"translateX(0)"},"@media (min-width: 769px)":{siderDrawer:{display:"none"}}}),Xt=["Dashboard","Accounts"],Kt=function(e){var t=Jt(),a=t.siderDrawer;return e.show&&(a=t.siderDrawer+" "+t.open),r.a.createElement("nav",{className:a},r.a.createElement("ul",null,Xt.map((function(e){return r.a.createElement("li",{key:e},r.a.createElement("a",{href:"/"},e))}))))},Zt=Object(Vt.a)({backdrop:{position:"fixed",width:"100%",height:"100%",top:0,left:0,background:"rgba(0,0,0,0.3)",zIndex:100}}),ea=function(e){var t=Zt();return r.a.createElement("div",{className:t.backdrop,onClick:e.click})},ta=function(e){var t=e.component,a=Object(N.a)(e,["component"]);return r.a.createElement(j.b,Object.assign({},a,{render:function(e){return g()?r.a.createElement(t,e):r.a.createElement(j.a,{to:{pathname:"/login"}})}}))},aa=function(e){var t=e.component,a=Object(N.a)(e,["component"]);return r.a.createElement(j.b,Object.assign({},a,{render:function(e){return g()?r.a.createElement(j.a,{to:{pathname:"/accounts"}}):r.a.createElement(t,e)}}))},na=function(){var e,t=Object(n.useState)(!1),a=Object(w.a)(t,2),l=a[0],c=a[1];return l&&(e=r.a.createElement(ea,{click:function(){c(!1)}})),r.a.createElement(r.a.Fragment,null,r.a.createElement(B.Helmet,null,r.a.createElement("style",null,"body { background-color: ".concat(_.WHITE,"; }"))),r.a.createElement(k.a,null,r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(Qt,{drawerClickHandler:function(){c(!0)}}),r.a.createElement(Kt,{show:l}),e,r.a.createElement("main",{style:{marginTop:84}},r.a.createElement(j.d,null,r.a.createElement(j.b,{exact:!0,path:"/",component:J}),r.a.createElement(aa,{exact:!0,path:"/register",component:ue}),r.a.createElement(aa,{exact:!0,path:"/login",component:fe}),r.a.createElement(ta,{exact:!0,path:"/accounts",component:xt}),r.a.createElement(ta,{exact:!0,path:"/accounts/:id",component:Ut}),r.a.createElement(j.b,{path:"/",render:function(){return r.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:12}},"404 Not Found")}}))))))},ra=new i.a({}),la=new u.a((function(e,t){return new d.a((function(a){var n;return Promise.resolve(e).then((function(e){var t=g();e.setContext({headers:{authorization:t?"Bearer ".concat(t):""}})})).then((function(){n=t(e).subscribe({next:a.next.bind(a),error:a.error.bind(a),complete:a.complete.bind(a)})})).catch(a.error.bind(a)),function(){n&&n.unsubscribe()}}))})),ca=new o.a({link:u.a.from([new h.a({accessTokenField:"accessToken",isTokenValidOrUndefined:function(){var e=g();if(!e)return!0;try{var t=v()(e).exp;return!(Date.now()>=1e3*t)}catch(a){return!1}},fetchAccessToken:function(){return fetch("https://apollo-bank.herokuapp.com/refresh_token",{method:"POST",credentials:"include"})},handleFetch:function(e){E(e)},handleError:function(e){console.warn("Your refresh token is invalid. Try to relogin"),console.error(e)}}),Object(m.a)((function(e){var t=e.graphQLErrors,a=e.networkError;console.log(t),console.log(a)})),la,new s.a({uri:"https://apollo-bank.herokuapp.com/graphql",credentials:"include"})]),cache:ra});c.a.render(r.a.createElement(p.a,{client:ca},r.a.createElement((function(){var e=Object(n.useState)(!0),t=Object(w.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){fetch("https://apollo-bank.herokuapp.com/refresh_token",{method:"POST",credentials:"include"}).then(function(){var e=Object(O.a)(x.a.mark((function e(t){var a,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:a=e.sent,n=a.accessToken,E(n),l(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),a?r.a.createElement(Q,null):r.a.createElement(na,null)}),null)),document.getElementById("root"))}},[[159,1,2]]]);
//# sourceMappingURL=main.76954f2b.chunk.js.map